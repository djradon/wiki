{"pageProps":{"note":{"id":"bxt5kkgpz91qwks4tomx39h","title":"How We Made Ai Diplomacy Work","desc":"","updated":1750897498487,"created":1750885121412,"custom":{},"fname":"ar.every.how-we-made-ai-diplomacy-work","type":"note","vault":{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"},"contentHash":"7b302b853a58eb15fd1e48713b786c96","links":[{"type":"wiki","from":{"fname":"ar.every.how-we-made-ai-diplomacy-work","id":"bxt5kkgpz91qwks4tomx39h","vaultName":"public-notes"},"value":"game.ai-diplomacy","position":{"start":{"line":2,"column":11,"offset":61},"end":{"line":2,"column":32,"offset":82},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"game.ai-diplomacy"}}],"anchors":{"lessons-learned":{"type":"header","text":"Lessons Learned","value":"lessons-learned","line":10,"column":0,"depth":2}},"children":[],"parent":"UDyKdrUPJBObO6lxqigxN","data":{}},"body":"<h1 id=\"how-we-made-ai-diplomacy-work\">How We Made Ai Diplomacy Work<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#how-we-made-ai-diplomacy-work\"></a></h1>\n<ul>\n<li><a href=\"https://every.to/p/how-we-made-ai-diplomacy-work\">https://every.to/p/how-we-made-ai-diplomacy-work</a></li>\n<li>topics: <a href=\"/wiki/notes/mo0uypqu8csd4nh1trm769o\">Ai Diplomacy</a></li>\n</ul>\n<h2 id=\"lessons-learned\">Lessons Learned<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#lessons-learned\"></a></h2>\n<p>Inference speed matters more than most people realize</p>\n<p>Gemini Flash 2.5 was amazing to test with. It balanced cost, quality, and speed—when Flash 2.5 agents played all seven player slots, they finished entire games in minutes. Conversely, DeepSeek-R1-05-28, despite being incredibly capable and cost-effective (around 200 times cheaper than o3), took nearly three days per game because of how slowly it typed (i.e., its tokens per second). Speed isn't everything, but it matters if you want people to use your system regularly. I'd love to see tokens per second as a more talked-about form of evaluation.\nParsing nearly killed us</p>\n<p>Every model had slightly different opinions on how to add enough structure to their output to make it possible to turn their musings into the right format for the game to use. We kept adding Band-Aids until our code worked well enough, but it looked like spaghetti. Each new model meant new edge cases, failures, and patches. We considered the tool Pydantic AI, specifically built to handle the changing outputs of language models with exhaustive checks and auto-retries if they got it wrong—but the cost and time of regular retries add up (each game can cost over $100 without any retries). Upon reflection, I think the best approach is likely not forcing an output structure at all from the models initially; instead, we should use a second, smaller model, whose only job would be to take the raw response and give back something properly formatted for the game engine. Research has shown that structured outputs can hurt the creative abilities of these models, so while it might cost a bit more to run a second call to an LLM for formatting, I would bet that quality goes up. Intuitively, it makes sense that asking models to do too much confuses them, as they predict one word at a time. We'll be testing this next, so stay tuned.\nCombining reasoning and final actions reduces hallucinations dramatically</p>\n<p>Maybe unsurprisingly, giving the agents a chance to think step by step and explain their reasoning before they submit their final orders greatly improved the quality of play. Next on our list: applying this same technique to negotiations (which happen between players and are separate from the orders each player gives to make their moves). We suspect this will lead to more strategic discussions and reduce errors even further.\nGood context allows models to be themselves</p>\n<p>Giving agents more context about the game in fewer words translated into an improved quality of gameplay and clearer strategic differentiation. You could think of these differences as the models’ in-game personalities: R1 showed off its flair for dramatic prose, Gemini 2.5 Pro got confused when smaller models would make mistakes, and Claude got upset when o3 began \"gaslighting\" it. There are many real, measurable ways to evaluate how well different models understand and leverage context. We're pouring over the data now to try and put it into a paper—coming soon.</p>\n<p>If you're curious to see more technical details or even get hands-on yourself, the codebase is on GitHub. Star it, fork it, or—even better—join us. We're looking for collaborators to expand AI Diplomacy into a game where humans customize agents to play against each other, or to explore reinforcement learning with our data. Reach out to <a href=\"/wiki/mailto:Alex@every.to\">Alex@every.to</a> if you'd like to get involved; I’d love to hear from you.</p>","noteIndex":{"id":"CpS9sdQeO83XthdjEzqoL","title":"djradon's wiki","desc":"","updated":1736578503080,"created":1631142505051,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"},"contentHash":"9f4d66b48d863c0393e4f6dd186ed711","links":[{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar.swyx.learn-in-public","alias":"learning-in-public","position":{"start":{"line":6,"column":20,"offset":56},"end":{"line":6,"column":66,"offset":102},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar.swyx.learn-in-public"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t","position":{"start":{"line":10,"column":3,"offset":228},"end":{"line":10,"column":8,"offset":233},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"idea","position":{"start":{"line":11,"column":3,"offset":258},"end":{"line":11,"column":11,"offset":266},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"idea"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar","position":{"start":{"line":13,"column":5,"offset":377},"end":{"line":13,"column":11,"offset":383},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"art","position":{"start":{"line":14,"column":5,"offset":426},"end":{"line":14,"column":12,"offset":433},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"art"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"book","position":{"start":{"line":15,"column":5,"offset":458},"end":{"line":15,"column":13,"offset":466},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"book"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"community","position":{"start":{"line":16,"column":5,"offset":471},"end":{"line":16,"column":18,"offset":484},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"community"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"course","position":{"start":{"line":17,"column":5,"offset":489},"end":{"line":17,"column":15,"offset":499},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"course"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"event","position":{"start":{"line":18,"column":5,"offset":504},"end":{"line":18,"column":14,"offset":513},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"event"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"game","position":{"start":{"line":19,"column":5,"offset":518},"end":{"line":19,"column":13,"offset":526},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"game"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"loc","position":{"start":{"line":20,"column":5,"offset":531},"end":{"line":20,"column":12,"offset":538},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"loc"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"org","position":{"start":{"line":21,"column":5,"offset":543},"end":{"line":21,"column":12,"offset":550},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"org"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user","position":{"start":{"line":22,"column":5,"offset":555},"end":{"line":22,"column":13,"offset":563},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"user"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"prdct","position":{"start":{"line":23,"column":5,"offset":569},"end":{"line":23,"column":14,"offset":578},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"prdct"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"recipe","position":{"start":{"line":24,"column":5,"offset":629},"end":{"line":24,"column":15,"offset":639},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"recipe"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"video","position":{"start":{"line":25,"column":5,"offset":644},"end":{"line":25,"column":14,"offset":653},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"video"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"vs","position":{"start":{"line":26,"column":3,"offset":690},"end":{"line":26,"column":9,"offset":696},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"vs"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"wanted","position":{"start":{"line":27,"column":3,"offset":699},"end":{"line":27,"column":13,"offset":709},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"wanted"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"tags","position":{"start":{"line":29,"column":5,"offset":739},"end":{"line":29,"column":13,"offset":747},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"tags"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"c","position":{"start":{"line":30,"column":5,"offset":811},"end":{"line":30,"column":10,"offset":816},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"c"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"p","position":{"start":{"line":31,"column":5,"offset":851},"end":{"line":31,"column":10,"offset":856},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"p"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t.km.zettelkasten","position":{"start":{"line":33,"column":17,"offset":932},"end":{"line":33,"column":38,"offset":953},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t.km.zettelkasten"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.Sönke-Ahrens","alias":"@Sönke-Ahrens","position":{"start":{"line":33,"column":109,"offset":1024},"end":{"line":33,"column":122,"offset":1037},"indent":[]},"xvault":false,"to":{"fname":"user.Sönke-Ahrens"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t.tm.getting-things-done","position":{"start":{"line":35,"column":13,"offset":1109},"end":{"line":35,"column":41,"offset":1137},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t.tm.getting-things-done"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.andy-matuschak","alias":"@andy-matuschak","position":{"start":{"line":43,"column":134,"offset":1475},"end":{"line":43,"column":149,"offset":1490},"indent":[]},"xvault":false,"to":{"fname":"user.andy-matuschak"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.maggie-appleton","alias":"@maggie-appleton","position":{"start":{"line":43,"column":154,"offset":1495},"end":{"line":43,"column":170,"offset":1511},"indent":[]},"xvault":false,"to":{"fname":"user.maggie-appleton"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar.substack.carpe-noctem","position":{"start":{"line":45,"column":11,"offset":1600},"end":{"line":45,"column":39,"offset":1628},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar.substack.carpe-noctem"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"book.how-to-take-smart-notes","position":{"start":{"line":48,"column":7,"offset":1637},"end":{"line":48,"column":39,"offset":1669},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"book.how-to-take-smart-notes"}}],"anchors":{"purpose":{"type":"header","text":"Purpose","value":"purpose","line":10,"column":0,"depth":2},"contents":{"type":"header","text":"Contents","value":"contents","line":14,"column":0,"depth":2},"beware":{"type":"header","text":"Beware!","value":"beware","line":43,"column":0,"depth":2},"what-this-is-not":{"type":"header","text":"What This Is Not","value":"what-this-is-not","line":47,"column":0,"depth":2}},"children":["7272514wvvn78ppl0gxbz1o","x7ep4g8flcqmwyiyfhrlx3y","1oo01iddhf8xrhghsn50s68","1xo3rb42oibz4c0ci2hns1w","j4v1t5j8jlertnw3qehr7eh","y4mse62vwwswwoy83dog5l8","vxdnqfler524hz0cijghw52","2d2rpnxxhmeddduz9k0hrb1","dfk38hodq90wterkjm41g6d","mt44zhi7hgua7aosvn41m20","d9iapeyx1ykhni9iub35s0j","48sncuimn75uzjhk3fhpnzk","tkjca1ot8fqq8l6rdokdywf","b98hmcjkz5mxbemof53ecrg","x7kou1vhk03q2jo1xgis6ei","c5qcd8cate4ic318mkmmkn0","4o5r1utc0onqbp5y50jo4bv","ctw4hojtksuyqzrhmeuxxv7","ipdzhc7arjmmikv6cc9av4g","avll3ht5e6v6brobqu6tu4f","pk8PcdWdd5M38WncZRnzN","64sr0zgblkoq70tu21r2dpw","pr50duvmwnfu5pf0zohcftk","wfhwxyrxvc5wt4e7yd81ot4","6q10hkz3zuvnueqa9slqqmu","h8etzbpdi04ynqoka3yhiei","llras18my52v1xrhkbmk9c2","q9y3ud88060hd6zdz0myhdr","v6oz4wid9tn2mzmjhcgalzv","4qppc4bpj9d3and3abrlvty","QgQWvVXn3EJF7RptGkK2z","VdoOKc3Rq9WmIDPW3ifi0","g24de3ikvaqmy6bp4m223t0","glaj6jozq0g9ia3qvht816v","y1gcp9ejsspitoo2rfeiu5p","mpq0j669d32a9hlcorxc937","3hdudsz1j8249vtldp33opm"],"parent":null,"data":{},"body":"\nWelcome! And beware!  \n\n## Purpose\n\nThis vault is the \"[[learning-in-public|ar.swyx.learn-in-public]]\" part of my Second Brain. If you share some of my interests, please [reach out](https://djradon.github.io)! \n\n## Contents\n\n- [[t]] my personal wikipedia\n- [[idea]] (not necessarily mine)\n- Resource Notes, including highlights, thoughts and metadata, for various things:\n  - [[ar]] mostly articles, papers and web pages\n  - [[art]] paintings, images, \n  - [[book]]\n  - [[community]]\n  - [[course]]\n  - [[event]]\n  - [[game]]\n  - [[loc]]\n  - [[org]]\n  - [[user]] \n  - [[prdct]] mostly software products, but also ontologies\n  - [[recipe]]\n  - [[video]] movies, tv episodes, youtube, etc\n- [[vs]]\n- [[wanted]]\n- Some \"Metadata Notes\":\n  - [[tags]] which may refer to any and multiple (or none) of the above\n  - [[c]]: ways to categorize resources\n  - [[p]]: ways to assert things about resources (mostly abandoned)\n\nIn terms of the [[t.km.zettelkasten]] method, this wiki is a commingling of literature notes with something @Sönke-Ahrens warned about: a \"personal Wikipedia or a database\" [^1]. \n\nIn terms of [[t.tm.getting-things-done]], it's references, someday-maybe, next actions, and public projects.\n\n## Beware!\n\nThis is a cluttered cupboard of jumbled jottings riddled with inaccuracies, confusion, and mistakes.\n\n## What This Is Not\n\n- evergreen-notes/digital-garden: for \"synthesized\" / original-ish publishable big-idea notes that should evolve over time, props to @andy-matuschak and @maggie-appleton\n- blog: for \"point-in-time\" items to be shared: personal news, articles, etc.\n  - e.g., [[ar.substack.carpe-noctem]]\n\n\n[^1]: [[book.how-to-take-smart-notes]]  "},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"none","confirmVaultOnCreate":true,"leaveTrace":false,"bubbleUpCreateNew":true,"vaultSelectionModeOnCreate":"smart","fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"selection","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"none"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"enableUserTags":true,"enableHashTags":true,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"djradon's wiki","description":"a personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://djradon.github.io","assetsPrefix":"/wiki","ga":{"tracking":"G-X7H6C4TMC7"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}