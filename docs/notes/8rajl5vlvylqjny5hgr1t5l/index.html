<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/wiki/favicon.ico"/><title>Modelling Time within a Strongly Typed Database</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="a personal knowledge space"/><meta property="og:title" content="Modelling Time within a Strongly Typed Database"/><meta property="og:description" content="a personal knowledge space"/><meta property="og:url" content="https://djradon.github.io/wiki/notes/8rajl5vlvylqjny5hgr1t5l/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="9/15/2023"/><meta property="article:modified_time" content="7/17/2024"/><link rel="canonical" href="https://djradon.github.io/wiki/notes/8rajl5vlvylqjny5hgr1t5l/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/wiki/_next/static/css/ef5e2a0bbd8ef133.css" as="style"/><link rel="stylesheet" href="/wiki/_next/static/css/ef5e2a0bbd8ef133.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/wiki/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/wiki/_next/static/chunks/webpack-8f4a37e14dcef8bf.js" defer=""></script><script src="/wiki/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/wiki/_next/static/chunks/main-7b6ff0f3b246a588.js" defer=""></script><script src="/wiki/_next/static/chunks/pages/_app-ebdc35f0512c9390.js" defer=""></script><script src="/wiki/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/wiki/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/wiki/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/wiki/_next/static/zxHqj1KtWp9Dhx1wcHVDU/_buildManifest.js" defer=""></script><script src="/wiki/_next/static/zxHqj1KtWp9Dhx1wcHVDU/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="modelling-time-within-a-strongly-typed-database">Modelling Time within a Strongly Typed Database<a aria-hidden="true" class="anchor-heading icon-link" href="#modelling-time-within-a-strongly-typed-database"></a></h1>
<ul>
<li>url: <a href="https://blog.vaticle.com/modelling-time-within-a-strongly-typed-database-55ba91ecad62">https://blog.vaticle.com/modelling-time-within-a-strongly-typed-database-55ba91ecad62</a></li>
<li>topic: <a href="/wiki/notes/Ej3tbATdXqr9WwU1ASciK">TypeDB</a></li>
<li>Published in</li>
</ul>
<p>Vaticle
·
9 min read
·
Jun 21, 2021</p>
<p>--</p>
<p>Time is the indefinite continued progress of existence and events that occur in an apparently irreversible succession from the past, through the present, into the future¹. The dynamics of systems operating over time are responsible for much of the apparent nonlinearity we observe, causal sequences travel forward in time, and the full impact of time is thereby rather interesting.
Background to Temporal Modelling</p>
<p>In the data context, many conceptual facets of time can be hard to capture, particularly in an RDBMS. Depending on the application, various complexities can arise in modelling time-based data, including:</p>
<pre><code>Storage and Indexing: How to store time data fields so they can be accessed quickly
Division and Aggregation: The smallest sensible time increment, and aggregation methods
Multiple Timelines: Dealing with changing data
Slowly Changing Dimensions: Classifying responses to temporal data changes
Temporally Variable Schema and Data: Capturing schema and data changes
Mining Temporal Relations: Methods of relating times to other times (e.g. before, after etc.)
</code></pre>
<p>These basics must be mastered before moving onto dynamic systems and causality. But they are not small issues, as entire databases have been devised and market shares carved out around the idea of being good at Problem 1 and 2 generally (e.g. MapR, TimeDB), or for specific use cases such as IoT.</p>
<p>Much time and effort have been put into Problems 3, 4 and 5 particularly with RDBMS and Dimensional Warehouses (e.g. DataVault), and even SQL extension recommendations. </p>
<ul>
<li><a aria-hidden="true" class="block-anchor anchor-heading icon-link" id="^rpdqex91m56q" href="#^rpdqex91m56q"></a><a href="/wiki/notes/acxwjynzcfhybxyoe56el4i">Owl Time</a> is the dominant solution for Problem 6 and has notorious ambiguity problems. </li>
</ul>
<p>Most graph types require everything to be an entity (e.g. property graph), when in fact in the real world, entities are few, and everything else is attributes connected by relations. TypeDB has a unique data model that makes temporal modelling powerful and simple.
Temporal Variables — A Common Application</p>
<p>A key challenge in databases is to support temporal variables that are only valid for a certain period of time, and can be safely updated while preserving the original value. This requires (1) storage and indexing of timestamped data and, (3) multiple timelines.
Multiple timelines for one value²</p>
<p>In order to flesh out the example, the scenario from Timely Concerns in Data Models² will be used.</p>
<p>Consider the diagram below, which shows a typical property graph model (i.e. nodes are mini-tables); the question is how I would change this in order to record all reads/writes and changing values (i.e. have read and write timelines on everything)? There are many ways we could model this system in TypeQL. For example, we could take the property graph view, as in the image and make everything entities.
Example Data Model²</p>
<p>As a strongly typed database, TypeDB provides a particularly strong platform for temporal modelling. Consider the image below.
TypeQL — (Note: A Thing is an Entity, an Attribute or a Relation)</p>
<p>The diagram demonstrates that in TypeQL relations can do everything entities can do, plus link roles. Further, attributes can own other attributes and play roles in relations. Not shown is the fact that attributes are unique values, which is then related to each instance of use. Finally, I will follow the lead of Haikal (CEO, Vaticle) in his insight that local increases in intricacy lead to lower overall complexity. Thus, we will start from the inside out.
Step 1: An Expanded definition of time</p>
<p>Time and date are usually recorded with a timestamp, a multi-scale record of the number of periods since a reference event. Each scale represents an integer multiple of a specific time period (years, months, days, hours, mins, secs, msec) and the entire date and time combination is a string of these period scales. Indexing a single year needs to take account of ~3 x 10¹⁰ unique variations.
Unique Values to Index = 3.1 x 10¹⁰ /year</p>
<p>TypeQL has unique capabilities that enable us to take advantage of this problem since attributes can own other attributes and have unique values. These capabilities enable us to form a composite index on time (a set of buckets using integers), taking the indexing requirement for a single year of microseconds down to 1,188 unique values.
Unique Values to Index = 1,188 /year</p>
<p>In a future version of TypeQL, this concept of canonical composite attributes with enums for the units and conversion functions is expected to be implemented to create a powerful system for units. But for the moment, it is only useful in indexing records. Below, the TypeQL schema for UTC is shown.</p>
<p>#####################################</p>
<h1 id="typeql-temporal-lists-model">TypeQL Temporal Lists Model<a aria-hidden="true" class="anchor-heading icon-link" href="#typeql-temporal-lists-model"></a></h1>
<h1 id="--capturing-the-readwrites-and-changing-values">- capturing the read/writes and changing values<a aria-hidden="true" class="anchor-heading icon-link" href="#--capturing-the-readwrites-and-changing-values"></a></h1>
<p>#########################################define# 1.A. Setup UTC time fast-indexing system   year sub attribute, value long;
month sub attribute, value long;
day sub attribute, value long;
hour sub attribute, value long;
mins sub attribute, value long;
secs sub attribute, value long;
msecs sub attribute, value long;   UTC sub attribute,
value date,
owns year,
owns month,
owns day,
owns hour,
owns mins,
owns secs,
owns msecs;</p>
<p>Since we are building a business system, it is convenient to expand that definition to bring in the finance temporal categories.</p>
<h1 id="1b-setup-finance-time---week-sub-attribute-value-long">1.B. Setup finance time   week sub attribute, value long;<a aria-hidden="true" class="anchor-heading icon-link" href="#1b-setup-finance-time---week-sub-attribute-value-long"></a></h1>
<p>   quarter sub attribute, value long;
fin_quarter sub attribute, value long;
half sub attribute, value long;
fin_half sub attribute, value long;
fin_year sub attribute, value long;   finance_time sub UTC,
owns week,
owns quarter,
owns fin_quarter,
owns half,
owns fin_half,
owns fin_year;</p>
<p>For the moment, these are standalone data objects and don’t play any roles. They perhaps could have been marked as abstract. To use them, it would be convenient to input all of the indexes as a batch operation and then match them into the insert of a specific date-time-stamp.
Step 2: Setup a Temporal List</p>
<p>In a business system, much of the data we deal with, like addresses, dependent, project_work, and dept_managerare not actually independent things. Instead, they have a temporal nature. During periods of time, there are various facts that are true and periods when these facts change. Taking advantage of TypeQL’s polymorphic nature, we define a generic temporal list that contains any number of items and then subclass it for our four temporal data elements.</p>
<p>#2. Setup Temporal List, with SubTypes</p>
<p>   temporal_list sub relation,
owns intIndex, # not a key
owns op_type, # enum of read/write
owns current, # boolean value, set by rules
relates owner, # entity owner, employee this data is for
relates item, # the data fragment
relates user_id, # accessor user id, not an employee number
relates created; # finance_time the data was created</p>
<p>   address sub temporal_list;
dependant sub temporal_list;
project_work sub temporal_list;
dept_manager sub temporal_list;`</p>
<p>Step 3: Setup Temporal List Data</p>
<p>This temporal list structure turns out to be a very handy way of storing objects and accessing them. The aim is to input all list elements with current =falseand then have rules to determine which is current. At present, the list is a bit of hard work, as one must pull the current record and use its index + 1 for the new insert. However, this is expected to get much easier once calculation comes in, as one can automate the index. The data for the temporal list is defined below:</p>
<p>#3. Setup the Data for the Temporal List</p>
<p>   street sub attribute,
value string,
plays temporal_list:item;
city sub attribute,
value string,
plays temporal_list:item;
postcode sub attribute,
value string,
plays temporal_list:item;
state sub attribute,
value string,
plays temporal_list:item;
dep_id sub attribute,
value string,
plays temporal_list:item;
dep_name sub attribute,
value string,
plays temporal_list:item;
dep_gender sub attribute,
value string,
plays temporal_list:item;
dep_birthdate sub attribute,
value date,
plays temporal_list:item;
proj_id sub attribute,
value string,
plays temporal_list:item;
proj_name sub attribute,
value string,
plays temporal_list:item;
dept_id sub attribute,
value string,
plays temporal_list:item;
dept_name sub attribute,
value string,
plays temporal_list:item;</p>
<p>Step 4: Setup local time definition</p>
<p>The local-time to use for this database can be sub-classed from the previously defined time structures:</p>
<p>#4. Setup the local time definition</p>
<p>   loc_time sub finance_time,
plays temporal_list:created;</p>
<p>Step 5: Setup the Person Entity</p>
<p>Finally, we set up the only entity in this sub-model, which is a person, the employee who “owns” the data records (i.e. the employee whose data is being accessed), as shown below:</p>
<h1 id="5-finally-setup-the-employee-definition-to-own-the-data">5. finally setup the employee definition to own the data<a aria-hidden="true" class="anchor-heading icon-link" href="#5-finally-setup-the-employee-definition-to-own-the-data"></a></h1>
<p>   employee_name sub attribute, value string;
employee_id sub attribute, value string;
social_security sub attribute, value string;
birthdate sub attribute, value date;
gender sub attribute, value string;</p>
<p>   employee sub entity,
owns employee_id,
owns employee_name,
owns social_security,
owns birthdate,
owns gender,
plays temporal_list:owner;</p>
<p>Step 6: Insert a temporal record</p>
<p>As discussed previously, assuming we input the time first and the accessor user id is the email address, then inserting a temporal record amounts to:</p>
<h1 id="6-insert-a-temporal-record">6. insert a temporal record<a aria-hidden="true" class="anchor-heading icon-link" href="#6-insert-a-temporal-record"></a></h1>
<p>match
<span class="math math-inline"><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#x27;EOF&#x27;, got &#x27;#&#x27; at position 36: …s employee_id &#x27;#̲%" style="color:#cc0000">emp isa employee, has employee_id '#%</span></span><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">@- (Private)</a>@#%';
<span class="math math-inline"><span class="katex-error" title="ParseError: KaTeX parse error: Can&#x27;t use function &#x27;$&#x27; in math mode at position 17: …id isa userID, $̲uid &#x27;user@examp…" style="color:#cc0000">uid isa userID, $uid 'user@example.com';  $tim isa loctime; $tim '2018-09-17T18:54:16.717Z'; insert  $str isa street; $str '92 Campbell Parade';  $cit isa city; $cit 'Bondi Beach';  $pos isa postcode; $pos '2026';  $sta isa state; $sta 'NSW'  $adr (owner:</span></span>emp, user_id:<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mi>i</mi><mi>d</mi><mo separator="true">,</mo><mi>i</mi><mi>t</mi><mi>e</mi><mi>m</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">uid, item:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span></span>str, item: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>i</mi><mi>t</mi><mo separator="true">,</mo><mi>i</mi><mi>t</mi><mi>e</mi><mi>m</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">cit,   item:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span></span>pos, item:<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>a</mi><mo separator="true">,</mo><mi>c</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>d</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">sta, created:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">cre</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span></span>tim) isa address,
has intIndex 0,
has type 'write_op',
has current false;</p>
<p>Step 7: Match a temporal record</p>
<p>Assuming the rule to determine the current is in play, then querying the current is easy, as shown below, although one should also write back a new read record.</p>
<h1 id="7-get-the-value-from-a-temporal-record">7. get the value from a temporal record<a aria-hidden="true" class="anchor-heading icon-link" href="#7-get-the-value-from-a-temporal-record"></a></h1>
<p>match
<span class="math math-inline"><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#x27;EOF&#x27;, got &#x27;#&#x27; at position 37: …s employee_id &#x27;#̲%" style="color:#cc0000">emp isa employee, owns employee_id '#%</span></span><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">@- (Private)</a>@#%';
(owner:<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>m</mi><mi>p</mi><mo separator="true">,</mo><mi>i</mi><mi>t</mi><mi>e</mi><mi>m</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">emp, item:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">m</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span></span>it) isa address,
has op_type 'write_op',
has current true;</p>
<p>Discussion</p>
<p>As a strongly typed database, TypeDB’s unique data model makes the representation of temporal records a snap. Firstly, the unique nature of attributes mean a composite index can index any time in a 10-year span within &#x3C;1,200 unique values. This can be extended into making an easy method to reference all values within a given financial period, such as a particular quarter, or month etc.</p>
<pre><code>Most graph types require everything to be an entity (e.g. property graph), when in fact in the real world, entities are few, and everything else is attributes connected by relations. TypeDB has a unique data model that makes temporal modelling powerful and simple.
</code></pre>
<p>The interesting thing about the TypeQL query language is that it can model almost any other data storage approach, and I like lists because they are easy. I personally use lists a lot, as well as dicts, for storage in TypeQL, and there are two circumstances:</p>
<pre><code>I insert an entire list at once, for example, a session in a log with events, and in this case, I use a dummy “stop” value at the end of each list, so it is easy to get.
Insert items in a list incrementally, as shown above; in this case, I would match out the index of the current record, add 1 to it (in the client) and insert it in the new list item.
</code></pre>
<p>Once calculations are in, this becomes a lot easier, and it can be accomplished in a single match/insert. We could hope to see calculations and canonical composite attributes late this year.</p>
<p>This article is an excerpt from a post and subsequent discussion on Vaticle Discord. If you enjoyed this piece and would like to contribute to the active discussions around modelling time in TypeDB, head to the Vaticle Community discord. Thanks to Daniel for encouraging me to post this thread!!
Bibliography</p>
<p>[1] Wikipedia: Time
<a href="https://en.wikipedia.org/wiki/Time">https://en.wikipedia.org/wiki/Time</a></p>
<p>[2] Thomas Frisendal — Timely Concerns in Data Models, June 10, 2019
<a href="https://www.dataversity.net/timely-concerns-in-data-models/">https://www.dataversity.net/timely-concerns-in-data-models/</a>
Typedb
Data Modeling
Type Systems
Database Development
Database</p>
<p>--</p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/wiki/notes/acxwjynzcfhybxyoe56el4i">Owl Time</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#typeql-temporal-lists-model" title="TypeQL Temporal Lists Model">TypeQL Temporal Lists Model</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#--capturing-the-readwrites-and-changing-values" title="- capturing the read/writes and changing values">- capturing the read/writes and changing values</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#1b-setup-finance-time---week-sub-attribute-value-long" title="1.B. Setup finance time   week sub attribute, value long;">1.B. Setup finance time   week sub attribute, value long;</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-finally-setup-the-employee-definition-to-own-the-data" title="5. finally setup the employee definition to own the data">5. finally setup the employee definition to own the data</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#6-insert-a-temporal-record" title="6. insert a temporal record">6. insert a temporal record</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#7-get-the-value-from-a-temporal-record" title="7. get the value from a temporal record">7. get the value from a temporal record</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"8rajl5vlvylqjny5hgr1t5l","title":"Modelling Time within a Strongly Typed Database","desc":"","updated":1721244014229,"created":1694796319022,"custom":{},"fname":"ar.modelling-time-within-a-strongly-typed-database","type":"note","vault":{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"},"contentHash":"45c4b2290acd24bbfcb447290c2e5a91","links":[{"type":"wiki","from":{"fname":"ar.modelling-time-within-a-strongly-typed-database","id":"8rajl5vlvylqjny5hgr1t5l","vaultName":"public-notes"},"value":"prdct.typedb","position":{"start":{"line":3,"column":10,"offset":103},"end":{"line":3,"column":26,"offset":119},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"prdct.typedb"}},{"type":"wiki","from":{"fname":"ar.modelling-time-within-a-strongly-typed-database","id":"8rajl5vlvylqjny5hgr1t5l","vaultName":"public-notes"},"value":"prdct.owl-time","position":{"start":{"line":30,"column":6,"offset":1756},"end":{"line":30,"column":24,"offset":1774},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"prdct.owl-time"}},{"type":"wiki","from":{"fname":"ar.modelling-time-within-a-strongly-typed-database","id":"8rajl5vlvylqjny5hgr1t5l","vaultName":"public-notes"},"value":"user.-","alias":"@-","position":{"start":{"line":191,"column":43,"offset":9983},"end":{"line":191,"column":45,"offset":9985},"indent":[]},"xvault":false,"to":{"fname":"user.-"}},{"type":"wiki","from":{"fname":"ar.modelling-time-within-a-strongly-typed-database","id":"8rajl5vlvylqjny5hgr1t5l","vaultName":"public-notes"},"value":"user.-","alias":"@-","position":{"start":{"line":212,"column":44,"offset":10723},"end":{"line":212,"column":46,"offset":10725},"indent":[]},"xvault":false,"to":{"fname":"user.-"}},{"from":{"fname":"prdct.owl-time","id":"acxwjynzcfhybxyoe56el4i","vaultName":"public-notes"},"type":"backlink","position":{"start":{"line":23,"column":27,"offset":3326},"end":{"line":23,"column":95,"offset":3394},"indent":[]},"value":"ar.modelling-time-within-a-strongly-typed-database"}],"anchors":{"typeql-temporal-lists-model":{"type":"header","text":"TypeQL Temporal Lists Model","value":"typeql-temporal-lists-model","line":64,"column":0,"depth":1},"--capturing-the-readwrites-and-changing-values":{"type":"header","text":"- capturing the read/writes and changing values","value":"--capturing-the-readwrites-and-changing-values","line":65,"column":0,"depth":1},"1b-setup-finance-time---week-sub-attribute-value-long":{"type":"header","text":"1.B. Setup finance time   week sub attribute, value long;","value":"1b-setup-finance-time---week-sub-attribute-value-long","line":84,"column":0,"depth":1},"5-finally-setup-the-employee-definition-to-own-the-data":{"type":"header","text":"5. finally setup the employee definition to own the data","value":"5-finally-setup-the-employee-definition-to-own-the-data","line":174,"column":0,"depth":1},"6-insert-a-temporal-record":{"type":"header","text":"6. insert a temporal record","value":"6-insert-a-temporal-record","line":194,"column":0,"depth":1},"7-get-the-value-from-a-temporal-record":{"type":"header","text":"7. get the value from a temporal record","value":"7-get-the-value-from-a-temporal-record","line":215,"column":0,"depth":1},"^rpdqex91m56q":{"type":"block","value":"rpdqex91m56q","line":36,"column":101}},"children":[],"parent":"7272514wvvn78ppl0gxbz1o","data":{}},"body":"\u003ch1 id=\"modelling-time-within-a-strongly-typed-database\"\u003eModelling Time within a Strongly Typed Database\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#modelling-time-within-a-strongly-typed-database\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eurl: \u003ca href=\"https://blog.vaticle.com/modelling-time-within-a-strongly-typed-database-55ba91ecad62\"\u003ehttps://blog.vaticle.com/modelling-time-within-a-strongly-typed-database-55ba91ecad62\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003etopic: \u003ca href=\"/wiki/notes/Ej3tbATdXqr9WwU1ASciK\"\u003eTypeDB\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003ePublished in\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eVaticle\n·\n9 min read\n·\nJun 21, 2021\u003c/p\u003e\n\u003cp\u003e--\u003c/p\u003e\n\u003cp\u003eTime is the indefinite continued progress of existence and events that occur in an apparently irreversible succession from the past, through the present, into the future¹. The dynamics of systems operating over time are responsible for much of the apparent nonlinearity we observe, causal sequences travel forward in time, and the full impact of time is thereby rather interesting.\nBackground to Temporal Modelling\u003c/p\u003e\n\u003cp\u003eIn the data context, many conceptual facets of time can be hard to capture, particularly in an RDBMS. Depending on the application, various complexities can arise in modelling time-based data, including:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eStorage and Indexing: How to store time data fields so they can be accessed quickly\nDivision and Aggregation: The smallest sensible time increment, and aggregation methods\nMultiple Timelines: Dealing with changing data\nSlowly Changing Dimensions: Classifying responses to temporal data changes\nTemporally Variable Schema and Data: Capturing schema and data changes\nMining Temporal Relations: Methods of relating times to other times (e.g. before, after etc.)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThese basics must be mastered before moving onto dynamic systems and causality. But they are not small issues, as entire databases have been devised and market shares carved out around the idea of being good at Problem 1 and 2 generally (e.g. MapR, TimeDB), or for specific use cases such as IoT.\u003c/p\u003e\n\u003cp\u003eMuch time and effort have been put into Problems 3, 4 and 5 particularly with RDBMS and Dimensional Warehouses (e.g. DataVault), and even SQL extension recommendations. \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca aria-hidden=\"true\" class=\"block-anchor anchor-heading icon-link\" id=\"^rpdqex91m56q\" href=\"#^rpdqex91m56q\"\u003e\u003c/a\u003e\u003ca href=\"/wiki/notes/acxwjynzcfhybxyoe56el4i\"\u003eOwl Time\u003c/a\u003e is the dominant solution for Problem 6 and has notorious ambiguity problems. \u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eMost graph types require everything to be an entity (e.g. property graph), when in fact in the real world, entities are few, and everything else is attributes connected by relations. TypeDB has a unique data model that makes temporal modelling powerful and simple.\nTemporal Variables — A Common Application\u003c/p\u003e\n\u003cp\u003eA key challenge in databases is to support temporal variables that are only valid for a certain period of time, and can be safely updated while preserving the original value. This requires (1) storage and indexing of timestamped data and, (3) multiple timelines.\nMultiple timelines for one value²\u003c/p\u003e\n\u003cp\u003eIn order to flesh out the example, the scenario from Timely Concerns in Data Models² will be used.\u003c/p\u003e\n\u003cp\u003eConsider the diagram below, which shows a typical property graph model (i.e. nodes are mini-tables); the question is how I would change this in order to record all reads/writes and changing values (i.e. have read and write timelines on everything)? There are many ways we could model this system in TypeQL. For example, we could take the property graph view, as in the image and make everything entities.\nExample Data Model²\u003c/p\u003e\n\u003cp\u003eAs a strongly typed database, TypeDB provides a particularly strong platform for temporal modelling. Consider the image below.\nTypeQL — (Note: A Thing is an Entity, an Attribute or a Relation)\u003c/p\u003e\n\u003cp\u003eThe diagram demonstrates that in TypeQL relations can do everything entities can do, plus link roles. Further, attributes can own other attributes and play roles in relations. Not shown is the fact that attributes are unique values, which is then related to each instance of use. Finally, I will follow the lead of Haikal (CEO, Vaticle) in his insight that local increases in intricacy lead to lower overall complexity. Thus, we will start from the inside out.\nStep 1: An Expanded definition of time\u003c/p\u003e\n\u003cp\u003eTime and date are usually recorded with a timestamp, a multi-scale record of the number of periods since a reference event. Each scale represents an integer multiple of a specific time period (years, months, days, hours, mins, secs, msec) and the entire date and time combination is a string of these period scales. Indexing a single year needs to take account of ~3 x 10¹⁰ unique variations.\nUnique Values to Index = 3.1 x 10¹⁰ /year\u003c/p\u003e\n\u003cp\u003eTypeQL has unique capabilities that enable us to take advantage of this problem since attributes can own other attributes and have unique values. These capabilities enable us to form a composite index on time (a set of buckets using integers), taking the indexing requirement for a single year of microseconds down to 1,188 unique values.\nUnique Values to Index = 1,188 /year\u003c/p\u003e\n\u003cp\u003eIn a future version of TypeQL, this concept of canonical composite attributes with enums for the units and conversion functions is expected to be implemented to create a powerful system for units. But for the moment, it is only useful in indexing records. Below, the TypeQL schema for UTC is shown.\u003c/p\u003e\n\u003cp\u003e#####################################\u003c/p\u003e\n\u003ch1 id=\"typeql-temporal-lists-model\"\u003eTypeQL Temporal Lists Model\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#typeql-temporal-lists-model\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch1 id=\"--capturing-the-readwrites-and-changing-values\"\u003e- capturing the read/writes and changing values\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#--capturing-the-readwrites-and-changing-values\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e#########################################define# 1.A. Setup UTC time fast-indexing system   year sub attribute, value long;\nmonth sub attribute, value long;\nday sub attribute, value long;\nhour sub attribute, value long;\nmins sub attribute, value long;\nsecs sub attribute, value long;\nmsecs sub attribute, value long;   UTC sub attribute,\nvalue date,\nowns year,\nowns month,\nowns day,\nowns hour,\nowns mins,\nowns secs,\nowns msecs;\u003c/p\u003e\n\u003cp\u003eSince we are building a business system, it is convenient to expand that definition to bring in the finance temporal categories.\u003c/p\u003e\n\u003ch1 id=\"1b-setup-finance-time---week-sub-attribute-value-long\"\u003e1.B. Setup finance time   week sub attribute, value long;\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#1b-setup-finance-time---week-sub-attribute-value-long\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e   quarter sub attribute, value long;\nfin_quarter sub attribute, value long;\nhalf sub attribute, value long;\nfin_half sub attribute, value long;\nfin_year sub attribute, value long;   finance_time sub UTC,\nowns week,\nowns quarter,\nowns fin_quarter,\nowns half,\nowns fin_half,\nowns fin_year;\u003c/p\u003e\n\u003cp\u003eFor the moment, these are standalone data objects and don’t play any roles. They perhaps could have been marked as abstract. To use them, it would be convenient to input all of the indexes as a batch operation and then match them into the insert of a specific date-time-stamp.\nStep 2: Setup a Temporal List\u003c/p\u003e\n\u003cp\u003eIn a business system, much of the data we deal with, like addresses, dependent, project_work, and dept_managerare not actually independent things. Instead, they have a temporal nature. During periods of time, there are various facts that are true and periods when these facts change. Taking advantage of TypeQL’s polymorphic nature, we define a generic temporal list that contains any number of items and then subclass it for our four temporal data elements.\u003c/p\u003e\n\u003cp\u003e#2. Setup Temporal List, with SubTypes\u003c/p\u003e\n\u003cp\u003e   temporal_list sub relation,\nowns intIndex, # not a key\nowns op_type, # enum of read/write\nowns current, # boolean value, set by rules\nrelates owner, # entity owner, employee this data is for\nrelates item, # the data fragment\nrelates user_id, # accessor user id, not an employee number\nrelates created; # finance_time the data was created\u003c/p\u003e\n\u003cp\u003e   address sub temporal_list;\ndependant sub temporal_list;\nproject_work sub temporal_list;\ndept_manager sub temporal_list;`\u003c/p\u003e\n\u003cp\u003eStep 3: Setup Temporal List Data\u003c/p\u003e\n\u003cp\u003eThis temporal list structure turns out to be a very handy way of storing objects and accessing them. The aim is to input all list elements with current =falseand then have rules to determine which is current. At present, the list is a bit of hard work, as one must pull the current record and use its index + 1 for the new insert. However, this is expected to get much easier once calculation comes in, as one can automate the index. The data for the temporal list is defined below:\u003c/p\u003e\n\u003cp\u003e#3. Setup the Data for the Temporal List\u003c/p\u003e\n\u003cp\u003e   street sub attribute,\nvalue string,\nplays temporal_list:item;\ncity sub attribute,\nvalue string,\nplays temporal_list:item;\npostcode sub attribute,\nvalue string,\nplays temporal_list:item;\nstate sub attribute,\nvalue string,\nplays temporal_list:item;\ndep_id sub attribute,\nvalue string,\nplays temporal_list:item;\ndep_name sub attribute,\nvalue string,\nplays temporal_list:item;\ndep_gender sub attribute,\nvalue string,\nplays temporal_list:item;\ndep_birthdate sub attribute,\nvalue date,\nplays temporal_list:item;\nproj_id sub attribute,\nvalue string,\nplays temporal_list:item;\nproj_name sub attribute,\nvalue string,\nplays temporal_list:item;\ndept_id sub attribute,\nvalue string,\nplays temporal_list:item;\ndept_name sub attribute,\nvalue string,\nplays temporal_list:item;\u003c/p\u003e\n\u003cp\u003eStep 4: Setup local time definition\u003c/p\u003e\n\u003cp\u003eThe local-time to use for this database can be sub-classed from the previously defined time structures:\u003c/p\u003e\n\u003cp\u003e#4. Setup the local time definition\u003c/p\u003e\n\u003cp\u003e   loc_time sub finance_time,\nplays temporal_list:created;\u003c/p\u003e\n\u003cp\u003eStep 5: Setup the Person Entity\u003c/p\u003e\n\u003cp\u003eFinally, we set up the only entity in this sub-model, which is a person, the employee who “owns” the data records (i.e. the employee whose data is being accessed), as shown below:\u003c/p\u003e\n\u003ch1 id=\"5-finally-setup-the-employee-definition-to-own-the-data\"\u003e5. finally setup the employee definition to own the data\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#5-finally-setup-the-employee-definition-to-own-the-data\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e   employee_name sub attribute, value string;\nemployee_id sub attribute, value string;\nsocial_security sub attribute, value string;\nbirthdate sub attribute, value date;\ngender sub attribute, value string;\u003c/p\u003e\n\u003cp\u003e   employee sub entity,\nowns employee_id,\nowns employee_name,\nowns social_security,\nowns birthdate,\nowns gender,\nplays temporal_list:owner;\u003c/p\u003e\n\u003cp\u003eStep 6: Insert a temporal record\u003c/p\u003e\n\u003cp\u003eAs discussed previously, assuming we input the time first and the accessor user id is the email address, then inserting a temporal record amounts to:\u003c/p\u003e\n\u003ch1 id=\"6-insert-a-temporal-record\"\u003e6. insert a temporal record\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#6-insert-a-temporal-record\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003ematch\n\u003cspan class=\"math math-inline\"\u003e\u003cspan class=\"katex-error\" title=\"ParseError: KaTeX parse error: Expected \u0026#x27;EOF\u0026#x27;, got \u0026#x27;#\u0026#x27; at position 36: …s employee_id \u0026#x27;#̲%\" style=\"color:#cc0000\"\u003eemp isa employee, has employee_id '#%\u003c/span\u003e\u003c/span\u003e\u003ca title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\"\u003e@- (Private)\u003c/a\u003e@#%';\n\u003cspan class=\"math math-inline\"\u003e\u003cspan class=\"katex-error\" title=\"ParseError: KaTeX parse error: Can\u0026#x27;t use function \u0026#x27;$\u0026#x27; in math mode at position 17: …id isa userID, $̲uid \u0026#x27;user@examp…\" style=\"color:#cc0000\"\u003euid isa userID, $uid 'user@example.com';  $tim isa loctime; $tim '2018-09-17T18:54:16.717Z'; insert  $str isa street; $str '92 Campbell Parade';  $cit isa city; $cit 'Bondi Beach';  $pos isa postcode; $pos '2026';  $sta isa state; $sta 'NSW'  $adr (owner:\u003c/span\u003e\u003c/span\u003eemp, user_id:\u003cspan class=\"math math-inline\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eu\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmi\u003ed\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmi\u003et\u003c/mi\u003e\u003cmi\u003ee\u003c/mi\u003e\u003cmi\u003em\u003c/mi\u003e\u003cmo\u003e:\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003euid, item:\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003eu\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ei\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ed\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ei\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003et\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ee\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003em\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003estr, item: \u003cspan class=\"math math-inline\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ec\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmi\u003et\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmi\u003et\u003c/mi\u003e\u003cmi\u003ee\u003c/mi\u003e\u003cmi\u003em\u003c/mi\u003e\u003cmo\u003e:\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ecit,   item:\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ec\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ei\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003et\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ei\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003et\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ee\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003em\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003epos, item:\u003cspan class=\"math math-inline\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003es\u003c/mi\u003e\u003cmi\u003et\u003c/mi\u003e\u003cmi\u003ea\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ec\u003c/mi\u003e\u003cmi\u003er\u003c/mi\u003e\u003cmi\u003ee\u003c/mi\u003e\u003cmi\u003ea\u003c/mi\u003e\u003cmi\u003et\u003c/mi\u003e\u003cmi\u003ee\u003c/mi\u003e\u003cmi\u003ed\u003c/mi\u003e\u003cmo\u003e:\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003esta, created:\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003es\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003et\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ea\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ecre\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ea\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003et\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ee\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ed\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003etim) isa address,\nhas intIndex 0,\nhas type 'write_op',\nhas current false;\u003c/p\u003e\n\u003cp\u003eStep 7: Match a temporal record\u003c/p\u003e\n\u003cp\u003eAssuming the rule to determine the current is in play, then querying the current is easy, as shown below, although one should also write back a new read record.\u003c/p\u003e\n\u003ch1 id=\"7-get-the-value-from-a-temporal-record\"\u003e7. get the value from a temporal record\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#7-get-the-value-from-a-temporal-record\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003ematch\n\u003cspan class=\"math math-inline\"\u003e\u003cspan class=\"katex-error\" title=\"ParseError: KaTeX parse error: Expected \u0026#x27;EOF\u0026#x27;, got \u0026#x27;#\u0026#x27; at position 37: …s employee_id \u0026#x27;#̲%\" style=\"color:#cc0000\"\u003eemp isa employee, owns employee_id '#%\u003c/span\u003e\u003c/span\u003e\u003ca title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\"\u003e@- (Private)\u003c/a\u003e@#%';\n(owner:\u003cspan class=\"math math-inline\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ee\u003c/mi\u003e\u003cmi\u003em\u003c/mi\u003e\u003cmi\u003ep\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmi\u003et\u003c/mi\u003e\u003cmi\u003ee\u003c/mi\u003e\u003cmi\u003em\u003c/mi\u003e\u003cmo\u003e:\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eemp, item:\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ee\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003em\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ep\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ei\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003et\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ee\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003em\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e:\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003eit) isa address,\nhas op_type 'write_op',\nhas current true;\u003c/p\u003e\n\u003cp\u003eDiscussion\u003c/p\u003e\n\u003cp\u003eAs a strongly typed database, TypeDB’s unique data model makes the representation of temporal records a snap. Firstly, the unique nature of attributes mean a composite index can index any time in a 10-year span within \u0026#x3C;1,200 unique values. This can be extended into making an easy method to reference all values within a given financial period, such as a particular quarter, or month etc.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eMost graph types require everything to be an entity (e.g. property graph), when in fact in the real world, entities are few, and everything else is attributes connected by relations. TypeDB has a unique data model that makes temporal modelling powerful and simple.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe interesting thing about the TypeQL query language is that it can model almost any other data storage approach, and I like lists because they are easy. I personally use lists a lot, as well as dicts, for storage in TypeQL, and there are two circumstances:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eI insert an entire list at once, for example, a session in a log with events, and in this case, I use a dummy “stop” value at the end of each list, so it is easy to get.\nInsert items in a list incrementally, as shown above; in this case, I would match out the index of the current record, add 1 to it (in the client) and insert it in the new list item.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOnce calculations are in, this becomes a lot easier, and it can be accomplished in a single match/insert. We could hope to see calculations and canonical composite attributes late this year.\u003c/p\u003e\n\u003cp\u003eThis article is an excerpt from a post and subsequent discussion on Vaticle Discord. If you enjoyed this piece and would like to contribute to the active discussions around modelling time in TypeDB, head to the Vaticle Community discord. Thanks to Daniel for encouraging me to post this thread!!\nBibliography\u003c/p\u003e\n\u003cp\u003e[1] Wikipedia: Time\n\u003ca href=\"https://en.wikipedia.org/wiki/Time\"\u003ehttps://en.wikipedia.org/wiki/Time\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e[2] Thomas Frisendal — Timely Concerns in Data Models, June 10, 2019\n\u003ca href=\"https://www.dataversity.net/timely-concerns-in-data-models/\"\u003ehttps://www.dataversity.net/timely-concerns-in-data-models/\u003c/a\u003e\nTypedb\nData Modeling\nType Systems\nDatabase Development\nDatabase\u003c/p\u003e\n\u003cp\u003e--\u003c/p\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/wiki/notes/acxwjynzcfhybxyoe56el4i\"\u003eOwl Time\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"CpS9sdQeO83XthdjEzqoL","title":"djradon's wiki","desc":"","updated":1725596786107,"created":1631142505051,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"},"contentHash":"bba9cf74d5d2d4e8dcab9ae4dbda62e9","links":[{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar.swyx.learn-in-public","alias":"learning-in-public","position":{"start":{"line":6,"column":20,"offset":56},"end":{"line":6,"column":66,"offset":102},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar.swyx.learn-in-public"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t","position":{"start":{"line":10,"column":3,"offset":228},"end":{"line":10,"column":8,"offset":233},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"idea","position":{"start":{"line":11,"column":3,"offset":258},"end":{"line":11,"column":11,"offset":266},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"idea"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar","position":{"start":{"line":13,"column":5,"offset":377},"end":{"line":13,"column":11,"offset":383},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"book","position":{"start":{"line":14,"column":5,"offset":426},"end":{"line":14,"column":13,"offset":434},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"book"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"community","position":{"start":{"line":15,"column":5,"offset":439},"end":{"line":15,"column":18,"offset":452},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"community"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"course","position":{"start":{"line":16,"column":5,"offset":457},"end":{"line":16,"column":15,"offset":467},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"course"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"event","position":{"start":{"line":17,"column":5,"offset":472},"end":{"line":17,"column":14,"offset":481},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"event"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"game","position":{"start":{"line":18,"column":5,"offset":486},"end":{"line":18,"column":13,"offset":494},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"game"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"loc","position":{"start":{"line":19,"column":5,"offset":499},"end":{"line":19,"column":12,"offset":506},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"loc"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"org","position":{"start":{"line":20,"column":5,"offset":511},"end":{"line":20,"column":12,"offset":518},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"org"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user","position":{"start":{"line":21,"column":5,"offset":523},"end":{"line":21,"column":13,"offset":531},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"user"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"prdct","position":{"start":{"line":22,"column":5,"offset":537},"end":{"line":22,"column":14,"offset":546},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"prdct"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"recipe","position":{"start":{"line":23,"column":5,"offset":597},"end":{"line":23,"column":15,"offset":607},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"recipe"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"video","position":{"start":{"line":24,"column":5,"offset":612},"end":{"line":24,"column":14,"offset":621},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"video"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"vs","position":{"start":{"line":25,"column":3,"offset":658},"end":{"line":25,"column":9,"offset":664},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"vs"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"wanted","position":{"start":{"line":26,"column":3,"offset":667},"end":{"line":26,"column":13,"offset":677},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"wanted"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"tags","position":{"start":{"line":28,"column":5,"offset":707},"end":{"line":28,"column":13,"offset":715},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"tags"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"c","position":{"start":{"line":29,"column":5,"offset":779},"end":{"line":29,"column":10,"offset":784},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"c"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"p","position":{"start":{"line":30,"column":5,"offset":819},"end":{"line":30,"column":10,"offset":824},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"p"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t.km.zettelkasten","position":{"start":{"line":32,"column":17,"offset":900},"end":{"line":32,"column":38,"offset":921},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t.km.zettelkasten"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.Sönke-Ahrens","alias":"@Sönke-Ahrens","position":{"start":{"line":32,"column":109,"offset":992},"end":{"line":32,"column":122,"offset":1005},"indent":[]},"xvault":false,"to":{"fname":"user.Sönke-Ahrens"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t.tm.getting-things-done","position":{"start":{"line":34,"column":13,"offset":1077},"end":{"line":34,"column":41,"offset":1105},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t.tm.getting-things-done"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.andy-matuschak","alias":"@andy-matuschak","position":{"start":{"line":42,"column":134,"offset":1443},"end":{"line":42,"column":149,"offset":1458},"indent":[]},"xvault":false,"to":{"fname":"user.andy-matuschak"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.maggie-appleton","alias":"@maggie-appleton","position":{"start":{"line":42,"column":154,"offset":1463},"end":{"line":42,"column":170,"offset":1479},"indent":[]},"xvault":false,"to":{"fname":"user.maggie-appleton"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar.substack.carpe-noctem","position":{"start":{"line":44,"column":11,"offset":1568},"end":{"line":44,"column":39,"offset":1596},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar.substack.carpe-noctem"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"book.how-to-take-smart-notes","position":{"start":{"line":47,"column":7,"offset":1605},"end":{"line":47,"column":39,"offset":1637},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"book.how-to-take-smart-notes"}}],"anchors":{"purpose":{"type":"header","text":"Purpose","value":"purpose","line":10,"column":0,"depth":2},"contents":{"type":"header","text":"Contents","value":"contents","line":14,"column":0,"depth":2},"beware":{"type":"header","text":"Beware!","value":"beware","line":42,"column":0,"depth":2},"what-this-is-not":{"type":"header","text":"What This Is Not","value":"what-this-is-not","line":46,"column":0,"depth":2}},"children":["7272514wvvn78ppl0gxbz1o","1oo01iddhf8xrhghsn50s68","1xo3rb42oibz4c0ci2hns1w","j4v1t5j8jlertnw3qehr7eh","y4mse62vwwswwoy83dog5l8","vxdnqfler524hz0cijghw52","2d2rpnxxhmeddduz9k0hrb1","dfk38hodq90wterkjm41g6d","mt44zhi7hgua7aosvn41m20","d9iapeyx1ykhni9iub35s0j","48sncuimn75uzjhk3fhpnzk","b98hmcjkz5mxbemof53ecrg","x7kou1vhk03q2jo1xgis6ei","c5qcd8cate4ic318mkmmkn0","4o5r1utc0onqbp5y50jo4bv","ctw4hojtksuyqzrhmeuxxv7","ipdzhc7arjmmikv6cc9av4g","avll3ht5e6v6brobqu6tu4f","pk8PcdWdd5M38WncZRnzN","64sr0zgblkoq70tu21r2dpw","pr50duvmwnfu5pf0zohcftk","wfhwxyrxvc5wt4e7yd81ot4","6q10hkz3zuvnueqa9slqqmu","h8etzbpdi04ynqoka3yhiei","llras18my52v1xrhkbmk9c2","q9y3ud88060hd6zdz0myhdr","v6oz4wid9tn2mzmjhcgalzv","ggw3ek46ptgebsgxgihr1dh","4qppc4bpj9d3and3abrlvty","QgQWvVXn3EJF7RptGkK2z","VdoOKc3Rq9WmIDPW3ifi0","g24de3ikvaqmy6bp4m223t0","glaj6jozq0g9ia3qvht816v","y1gcp9ejsspitoo2rfeiu5p","mpq0j669d32a9hlcorxc937"],"parent":null,"data":{},"body":"\nWelcome! And beware!  \n\n## Purpose\n\nThis vault is the \"[[learning-in-public|ar.swyx.learn-in-public]]\" part of my Second Brain. If you share some of my interests, please [reach out](https://djradon.github.io)! \n\n## Contents\n\n- [[t]] my personal wikipedia\n- [[idea]] (not necessarily mine)\n- Resource Notes, including highlights, thoughts and metadata, for various things:\n  - [[ar]] mostly articles, papers and web pages\n  - [[book]]\n  - [[community]]\n  - [[course]]\n  - [[event]]\n  - [[game]]\n  - [[loc]]\n  - [[org]]\n  - [[user]] \n  - [[prdct]] mostly software products, but also ontologies\n  - [[recipe]]\n  - [[video]] movies, tv episodes, youtube, etc\n- [[vs]]\n- [[wanted]]\n- Some \"Metadata Notes\":\n  - [[tags]] which may refer to any and multiple (or none) of the above\n  - [[c]]: ways to categorize resources\n  - [[p]]: ways to assert things about resources (mostly abandoned)\n\nIn terms of the [[t.km.zettelkasten]] method, this wiki is a commingling of literature notes with something @Sönke-Ahrens warned about: a \"personal Wikipedia or a database\" [^1]. \n\nIn terms of [[t.tm.getting-things-done]], it's references, someday-maybe, next actions, and public projects.\n\n## Beware!\n\nThis is a cluttered cupboard of jumbled jottings riddled with inaccuracies, confusion, and mistakes.\n\n## What This Is Not\n\n- evergreen-notes/digital-garden: for \"synthesized\" / original-ish publishable big-idea notes that should evolve over time, props to @andy-matuschak and @maggie-appleton\n- blog: for \"point-in-time\" items to be shared: personal news, articles, etc.\n  - e.g., [[ar.substack.carpe-noctem]]\n\n\n[^1]: [[book.how-to-take-smart-notes]]  "},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"none","confirmVaultOnCreate":true,"leaveTrace":false,"bubbleUpCreateNew":true,"vaultSelectionModeOnCreate":"smart","fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"selection","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"none"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"enableUserTags":true,"enableHashTags":true,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"djradon's wiki","description":"a personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://djradon.github.io","assetsPrefix":"/wiki","ga":{"tracking":"G-X7H6C4TMC7"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"8rajl5vlvylqjny5hgr1t5l"},"buildId":"zxHqj1KtWp9Dhx1wcHVDU","assetPrefix":"/wiki","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>