<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/wiki/favicon.ico"/><title>There Is No Such Thing as a Unit Test</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="a personal knowledge space"/><meta property="og:title" content="There Is No Such Thing as a Unit Test"/><meta property="og:description" content="a personal knowledge space"/><meta property="og:url" content="https://djradon.github.io/wiki/notes/mlzjkg65ixezzrsyaf4a81z/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="11/5/2024"/><meta property="article:modified_time" content="11/5/2024"/><link rel="canonical" href="https://djradon.github.io/wiki/notes/mlzjkg65ixezzrsyaf4a81z/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/wiki/_next/static/css/ef5e2a0bbd8ef133.css" as="style"/><link rel="stylesheet" href="/wiki/_next/static/css/ef5e2a0bbd8ef133.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/wiki/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/wiki/_next/static/chunks/webpack-8f4a37e14dcef8bf.js" defer=""></script><script src="/wiki/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/wiki/_next/static/chunks/main-7b6ff0f3b246a588.js" defer=""></script><script src="/wiki/_next/static/chunks/pages/_app-ebdc35f0512c9390.js" defer=""></script><script src="/wiki/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/wiki/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/wiki/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/wiki/_next/static/ll9_Pp7jSWsgv9lkH9WJA/_buildManifest.js" defer=""></script><script src="/wiki/_next/static/ll9_Pp7jSWsgv9lkH9WJA/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="there-is-no-such-thing-as-a-unit-test">There Is No Such Thing as a Unit Test<a aria-hidden="true" class="anchor-heading icon-link" href="#there-is-no-such-thing-as-a-unit-test"></a></h1>
<ul>
<li><a href="https://dev.to/awwsmm/there-is-no-such-thing-as-a-unit-test-50j3">https://dev.to/awwsmm/there-is-no-such-thing-as-a-unit-test-50j3</a></li>
</ul>
<h2 id="highlights">Highlights<a aria-hidden="true" class="anchor-heading icon-link" href="#highlights"></a></h2>
<ul>
<li>
<p>"Rather than thinking of tests along the traditional unit / integration / end-to-end spectrum, I think it's helpful to think along a few other dimensions</p>
<p>  is this test fast or slow?
is this a black-box test or a white-box test?
is this test informed by development or does it inform development?</p>
</li>
</ul>
<h3 id="fast-and-slow-tests">Fast and Slow Tests<a aria-hidden="true" class="anchor-heading icon-link" href="#fast-and-slow-tests"></a></h3>
<h4 id="fast">Fast<a aria-hidden="true" class="anchor-heading icon-link" href="#fast"></a></h4>
<ul>
<li>entirely in-memory. They do no disk IO and they make no network calls</li>
<li>can be run every single time a code change is made without being a roadblock to development speed</li>
<li>should therefore be run as part of the developer's <a href="https://www.awwsmm.com/blog/drop-everything-and-review">inner loop</a>. Every time you compile, you can run these tests</li>
</ul>
<h4 id="slow">Slow<a aria-hidden="true" class="anchor-heading icon-link" href="#slow"></a></h4>
<ul>
<li>take more than 2-5 seconds</li>
<li><a href="https://testsigma.com/blog/api-contract-testing/">Contract tests</a> (which often spin up Docker containers) and performance tests (which may run gigabytes of data or thousands of requests through the system) are examples of slow tests</li>
<li>before each commit to main is probably fine for tests shorter than a few minutes, daily or weekly might be a good cadence for tests much longer than that</li>
</ul>
<h3 id="black-box-and-white-box-tests">Black-Box and White-Box Tests<a aria-hidden="true" class="anchor-heading icon-link" href="#black-box-and-white-box-tests"></a></h3>
<h4 id="black-box">Black-box<a aria-hidden="true" class="anchor-heading icon-link" href="#black-box"></a></h4>
<ul>
<li>make no assumptions about the internals of the thing they are testing.</li>
<li>provide inputs and assert on observable outputs, and that's it</li>
<li>observable output is usually a return value from a method, but a black-box test might instead assert that a side effect has occurred, like that a log line has been written, or that a metric has been recorded, or that some state has been mutated</li>
<li>opt for black-box tests as a default</li>
</ul>
<h4 id="white-box">White-box<a aria-hidden="true" class="anchor-heading icon-link" href="#white-box"></a></h4>
<ul>
<li><em>introspective</em>: test the internals, how something should happen</li>
<li>Tests which have assertions like "when 'x' happens, function a() should call function b()"</li>
<li>Tests which rely heavily on mocking frameworks are often white-box tests, asserting that such-and-such a method has (or hasn't) been called in response to some inputs</li>
</ul>
<h3 id="development-informed-tests-and-development-informing-tests">Development-Informed Tests and Development-Informing Tests<a aria-hidden="true" class="anchor-heading icon-link" href="#development-informed-tests-and-development-informing-tests"></a></h3>
<h4 id="development-informed-tests">Development-Informed Tests<a aria-hidden="true" class="anchor-heading icon-link" href="#development-informed-tests"></a></h4>
<ul>
<li>written reactively, in that the production code is written first, and the tests are written afterward</li>
<li>codify the behaviour of the system as-is</li>
<li><a aria-hidden="true" class="block-anchor anchor-heading icon-link" id="^6non5ssw9g7o" href="#^6non5ssw9g7o"></a>traditional "unit tests" are almost exclusively development-informed tests </li>
<li>Development-informed tests are often written by rote and offer little value.</li>
</ul>
<h4 id="development-informing-tests">Development-Informing Tests<a aria-hidden="true" class="anchor-heading icon-link" href="#development-informing-tests"></a></h4>
<ul>
<li>
<p>written proactively</p>
</li>
<li>
<p><a aria-hidden="true" class="block-anchor anchor-heading icon-link" id="^t22wchtkcs1o" href="#^t22wchtkcs1o"></a>Test-Driven Development (TDD) is a software development methodology which encourages writing only development-informing tests, ensuring that 100% of the system's behaviour is always codified in tests. </p>
</li>
<li>
<p>Development-informing tests can also provide confidence that some tricky piece of logic has been implemented correctly. For example, you might write a regex to parse U.S. phone numbers, and -- at the same time -- add a handful of tests to ensure that you catch things like</p>
<p>  area codes surrounded by parentheses
spaces vs. no spaces vs. hyphens
the presence or absence of a +1 country code</p>
</li>
<li>
<p>always write bug fix tests in a development-informing way</p>
</li>
</ul>
<h3 id="most-unit-tests-are-development-informed">Most Unit Tests are Development-Informed<a aria-hidden="true" class="anchor-heading icon-link" href="#most-unit-tests-are-development-informed"></a></h3>
<ul>
<li>most tests are not written to catch bugs, and they are not written to help a developer think through some difficult implementation</li>
</ul>
<h3 id="most-unit-tests-do-not-test-externally-visible-system-behaviours">Most Unit Tests do not test "Externally-Visible System Behaviours"<a aria-hidden="true" class="anchor-heading icon-link" href="#most-unit-tests-do-not-test-externally-visible-system-behaviours"></a></h3>
<ul>
<li>the twin practices of (1) breaking large functions up into smaller ones and (2) writing tests for each function rather than for each externally-visible system behaviour leads to a proliferation of tests tightly-coupled to the production implementation</li>
<li>In the worst-case scenario, developers will sometimes copy-and-paste the production implementation directly into the test, asserting that the "expected" result from the test implementation equals the "actual" result from the production code</li>
</ul>
<h3 id="a-new-test-pyramid">A New Test Pyramid<a aria-hidden="true" class="anchor-heading icon-link" href="#a-new-test-pyramid"></a></h3>
<p><img src="/wiki/assets/images/2024-11-05-13-20-51.png"></p>
<ul>
<li>base: Where external dependencies are required, prefer fake implementations rather than mocks (and add corresponding contract tests to ensure that external dependency behaves as you think it does). This keeps the entire test in-memory</li>
<li>middle: Prefer slow black-box tests over fast white-box tests</li>
</ul>
<h2 id="comments">Comments<a aria-hidden="true" class="anchor-heading icon-link" href="#comments"></a></h2>
<ul>
<li></li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/wiki/notes/GTdqyUIA63npnTWJNCAFj">Testing</a></li>
<li><a href="/wiki/notes/n658x5ycjvloeabinyqfwdl">Test Driven Development</a></li>
<li><a href="/wiki/notes/eEP05Hpd3OqLm2DmJmIcj">Unit Testing</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#highlights" title="Highlights">Highlights</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#fast-and-slow-tests" title="Fast and Slow Tests">Fast and Slow Tests</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#fast" title="Fast">Fast</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#slow" title="Slow">Slow</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#black-box-and-white-box-tests" title="Black-Box and White-Box Tests">Black-Box and White-Box Tests</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#black-box" title="Black-box">Black-box</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#white-box" title="White-box">White-box</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#development-informed-tests-and-development-informing-tests" title="Development-Informed Tests and Development-Informing Tests">Development-Informed Tests and Development-Informing Tests</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#development-informed-tests" title="Development-Informed Tests">Development-Informed Tests</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#development-informing-tests" title="Development-Informing Tests">Development-Informing Tests</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#most-unit-tests-are-development-informed" title="Most Unit Tests are Development-Informed">Most Unit Tests are Development-Informed</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#most-unit-tests-do-not-test-externally-visible-system-behaviours" title="Most Unit Tests do not test &quot;Externally-Visible System Behaviours&quot;">Most Unit Tests do not test &quot;Externally-Visible System Behaviours&quot;</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#a-new-test-pyramid" title="A New Test Pyramid">A New Test Pyramid</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#comments" title="Comments">Comments</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"mlzjkg65ixezzrsyaf4a81z","title":"There Is No Such Thing as a Unit Test","desc":"","updated":1730842568301,"created":1730840698421,"custom":{},"fname":"ar.awwsmm.there-is-no-such-thing-as-a-unit-test","type":"note","vault":{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"},"contentHash":"143680a70fc41102a10f72078a189321","links":[{"from":{"fname":"t.cs.sd.testing","id":"GTdqyUIA63npnTWJNCAFj","vaultName":"public-notes"},"type":"backlink","position":{"start":{"line":16,"column":3,"offset":375},"end":{"line":16,"column":54,"offset":426},"indent":[]},"value":"ar.awwsmm.there-is-no-such-thing-as-a-unit-test"},{"from":{"fname":"t.cs.sd.testing.test-driven-development","id":"n658x5ycjvloeabinyqfwdl","vaultName":"public-notes"},"type":"backlink","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":67,"offset":67},"indent":[]},"value":"ar.awwsmm.there-is-no-such-thing-as-a-unit-test"},{"from":{"fname":"t.cs.sd.testing.unit-testing","id":"eEP05Hpd3OqLm2DmJmIcj","vaultName":"public-notes"},"type":"backlink","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":67,"offset":67},"indent":[]},"value":"ar.awwsmm.there-is-no-such-thing-as-a-unit-test"}],"anchors":{"highlights":{"type":"header","text":"Highlights","value":"highlights","line":10,"column":0,"depth":2},"fast-and-slow-tests":{"type":"header","text":"Fast and Slow Tests","value":"fast-and-slow-tests","line":18,"column":0,"depth":3},"fast":{"type":"header","text":"Fast","value":"fast","line":20,"column":0,"depth":4},"slow":{"type":"header","text":"Slow","value":"slow","line":26,"column":0,"depth":4},"black-box-and-white-box-tests":{"type":"header","text":"Black-Box and White-Box Tests","value":"black-box-and-white-box-tests","line":33,"column":0,"depth":3},"black-box":{"type":"header","text":"Black-box","value":"black-box","line":35,"column":0,"depth":4},"white-box":{"type":"header","text":"White-box","value":"white-box","line":42,"column":0,"depth":4},"development-informed-tests-and-development-informing-tests":{"type":"header","text":"Development-Informed Tests and Development-Informing Tests","value":"development-informed-tests-and-development-informing-tests","line":48,"column":0,"depth":3},"development-informed-tests":{"type":"header","text":"Development-Informed Tests","value":"development-informed-tests","line":50,"column":0,"depth":4},"development-informing-tests":{"type":"header","text":"Development-Informing Tests","value":"development-informing-tests","line":58,"column":0,"depth":4},"most-unit-tests-are-development-informed":{"type":"header","text":"Most Unit Tests are Development-Informed","value":"most-unit-tests-are-development-informed","line":69,"column":0,"depth":3},"most-unit-tests-do-not-test-externally-visible-system-behaviours":{"type":"header","text":"Most Unit Tests do not test \"Externally-Visible System Behaviours\"","value":"most-unit-tests-do-not-test-externally-visible-system-behaviours","line":73,"column":0,"depth":3},"a-new-test-pyramid":{"type":"header","text":"A New Test Pyramid","value":"a-new-test-pyramid","line":78,"column":0,"depth":3},"comments":{"type":"header","text":"Comments","value":"comments","line":85,"column":0,"depth":2},"^6non5ssw9g7o":{"type":"block","value":"6non5ssw9g7o","line":54,"column":77},"^t22wchtkcs1o":{"type":"block","value":"t22wchtkcs1o","line":61,"column":203}},"children":[],"parent":"ypfwq6lkfpmx3q5zrxr8w2q","data":{}},"body":"\u003ch1 id=\"there-is-no-such-thing-as-a-unit-test\"\u003eThere Is No Such Thing as a Unit Test\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#there-is-no-such-thing-as-a-unit-test\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://dev.to/awwsmm/there-is-no-such-thing-as-a-unit-test-50j3\"\u003ehttps://dev.to/awwsmm/there-is-no-such-thing-as-a-unit-test-50j3\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"highlights\"\u003eHighlights\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#highlights\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\"Rather than thinking of tests along the traditional unit / integration / end-to-end spectrum, I think it's helpful to think along a few other dimensions\u003c/p\u003e\n\u003cp\u003e  is this test fast or slow?\nis this a black-box test or a white-box test?\nis this test informed by development or does it inform development?\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"fast-and-slow-tests\"\u003eFast and Slow Tests\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#fast-and-slow-tests\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"fast\"\u003eFast\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#fast\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003eentirely in-memory. They do no disk IO and they make no network calls\u003c/li\u003e\n\u003cli\u003ecan be run every single time a code change is made without being a roadblock to development speed\u003c/li\u003e\n\u003cli\u003eshould therefore be run as part of the developer's \u003ca href=\"https://www.awwsmm.com/blog/drop-everything-and-review\"\u003einner loop\u003c/a\u003e. Every time you compile, you can run these tests\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"slow\"\u003eSlow\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#slow\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003etake more than 2-5 seconds\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://testsigma.com/blog/api-contract-testing/\"\u003eContract tests\u003c/a\u003e (which often spin up Docker containers) and performance tests (which may run gigabytes of data or thousands of requests through the system) are examples of slow tests\u003c/li\u003e\n\u003cli\u003ebefore each commit to main is probably fine for tests shorter than a few minutes, daily or weekly might be a good cadence for tests much longer than that\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"black-box-and-white-box-tests\"\u003eBlack-Box and White-Box Tests\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#black-box-and-white-box-tests\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"black-box\"\u003eBlack-box\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#black-box\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003emake no assumptions about the internals of the thing they are testing.\u003c/li\u003e\n\u003cli\u003eprovide inputs and assert on observable outputs, and that's it\u003c/li\u003e\n\u003cli\u003eobservable output is usually a return value from a method, but a black-box test might instead assert that a side effect has occurred, like that a log line has been written, or that a metric has been recorded, or that some state has been mutated\u003c/li\u003e\n\u003cli\u003eopt for black-box tests as a default\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"white-box\"\u003eWhite-box\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#white-box\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cem\u003eintrospective\u003c/em\u003e: test the internals, how something should happen\u003c/li\u003e\n\u003cli\u003eTests which have assertions like \"when 'x' happens, function a() should call function b()\"\u003c/li\u003e\n\u003cli\u003eTests which rely heavily on mocking frameworks are often white-box tests, asserting that such-and-such a method has (or hasn't) been called in response to some inputs\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"development-informed-tests-and-development-informing-tests\"\u003eDevelopment-Informed Tests and Development-Informing Tests\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#development-informed-tests-and-development-informing-tests\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"development-informed-tests\"\u003eDevelopment-Informed Tests\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#development-informed-tests\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003ewritten reactively, in that the production code is written first, and the tests are written afterward\u003c/li\u003e\n\u003cli\u003ecodify the behaviour of the system as-is\u003c/li\u003e\n\u003cli\u003e\u003ca aria-hidden=\"true\" class=\"block-anchor anchor-heading icon-link\" id=\"^6non5ssw9g7o\" href=\"#^6non5ssw9g7o\"\u003e\u003c/a\u003etraditional \"unit tests\" are almost exclusively development-informed tests \u003c/li\u003e\n\u003cli\u003eDevelopment-informed tests are often written by rote and offer little value.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"development-informing-tests\"\u003eDevelopment-Informing Tests\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#development-informing-tests\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ewritten proactively\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca aria-hidden=\"true\" class=\"block-anchor anchor-heading icon-link\" id=\"^t22wchtkcs1o\" href=\"#^t22wchtkcs1o\"\u003e\u003c/a\u003eTest-Driven Development (TDD) is a software development methodology which encourages writing only development-informing tests, ensuring that 100% of the system's behaviour is always codified in tests. \u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDevelopment-informing tests can also provide confidence that some tricky piece of logic has been implemented correctly. For example, you might write a regex to parse U.S. phone numbers, and -- at the same time -- add a handful of tests to ensure that you catch things like\u003c/p\u003e\n\u003cp\u003e  area codes surrounded by parentheses\nspaces vs. no spaces vs. hyphens\nthe presence or absence of a +1 country code\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ealways write bug fix tests in a development-informing way\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"most-unit-tests-are-development-informed\"\u003eMost Unit Tests are Development-Informed\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#most-unit-tests-are-development-informed\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003emost tests are not written to catch bugs, and they are not written to help a developer think through some difficult implementation\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"most-unit-tests-do-not-test-externally-visible-system-behaviours\"\u003eMost Unit Tests do not test \"Externally-Visible System Behaviours\"\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#most-unit-tests-do-not-test-externally-visible-system-behaviours\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ethe twin practices of (1) breaking large functions up into smaller ones and (2) writing tests for each function rather than for each externally-visible system behaviour leads to a proliferation of tests tightly-coupled to the production implementation\u003c/li\u003e\n\u003cli\u003eIn the worst-case scenario, developers will sometimes copy-and-paste the production implementation directly into the test, asserting that the \"expected\" result from the test implementation equals the \"actual\" result from the production code\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"a-new-test-pyramid\"\u003eA New Test Pyramid\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#a-new-test-pyramid\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"/wiki/assets/images/2024-11-05-13-20-51.png\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ebase: Where external dependencies are required, prefer fake implementations rather than mocks (and add corresponding contract tests to ensure that external dependency behaves as you think it does). This keeps the entire test in-memory\u003c/li\u003e\n\u003cli\u003emiddle: Prefer slow black-box tests over fast white-box tests\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"comments\"\u003eComments\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#comments\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/wiki/notes/GTdqyUIA63npnTWJNCAFj\"\u003eTesting\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/wiki/notes/n658x5ycjvloeabinyqfwdl\"\u003eTest Driven Development\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/wiki/notes/eEP05Hpd3OqLm2DmJmIcj\"\u003eUnit Testing\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"CpS9sdQeO83XthdjEzqoL","title":"djradon's wiki","desc":"","updated":1725596786107,"created":1631142505051,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"},"contentHash":"bba9cf74d5d2d4e8dcab9ae4dbda62e9","links":[{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar.swyx.learn-in-public","alias":"learning-in-public","position":{"start":{"line":6,"column":20,"offset":56},"end":{"line":6,"column":66,"offset":102},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar.swyx.learn-in-public"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t","position":{"start":{"line":10,"column":3,"offset":228},"end":{"line":10,"column":8,"offset":233},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"idea","position":{"start":{"line":11,"column":3,"offset":258},"end":{"line":11,"column":11,"offset":266},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"idea"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar","position":{"start":{"line":13,"column":5,"offset":377},"end":{"line":13,"column":11,"offset":383},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"book","position":{"start":{"line":14,"column":5,"offset":426},"end":{"line":14,"column":13,"offset":434},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"book"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"community","position":{"start":{"line":15,"column":5,"offset":439},"end":{"line":15,"column":18,"offset":452},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"community"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"course","position":{"start":{"line":16,"column":5,"offset":457},"end":{"line":16,"column":15,"offset":467},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"course"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"event","position":{"start":{"line":17,"column":5,"offset":472},"end":{"line":17,"column":14,"offset":481},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"event"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"game","position":{"start":{"line":18,"column":5,"offset":486},"end":{"line":18,"column":13,"offset":494},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"game"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"loc","position":{"start":{"line":19,"column":5,"offset":499},"end":{"line":19,"column":12,"offset":506},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"loc"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"org","position":{"start":{"line":20,"column":5,"offset":511},"end":{"line":20,"column":12,"offset":518},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"org"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user","position":{"start":{"line":21,"column":5,"offset":523},"end":{"line":21,"column":13,"offset":531},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"user"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"prdct","position":{"start":{"line":22,"column":5,"offset":537},"end":{"line":22,"column":14,"offset":546},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"prdct"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"recipe","position":{"start":{"line":23,"column":5,"offset":597},"end":{"line":23,"column":15,"offset":607},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"recipe"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"video","position":{"start":{"line":24,"column":5,"offset":612},"end":{"line":24,"column":14,"offset":621},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"video"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"vs","position":{"start":{"line":25,"column":3,"offset":658},"end":{"line":25,"column":9,"offset":664},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"vs"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"wanted","position":{"start":{"line":26,"column":3,"offset":667},"end":{"line":26,"column":13,"offset":677},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"wanted"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"tags","position":{"start":{"line":28,"column":5,"offset":707},"end":{"line":28,"column":13,"offset":715},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"tags"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"c","position":{"start":{"line":29,"column":5,"offset":779},"end":{"line":29,"column":10,"offset":784},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"c"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"p","position":{"start":{"line":30,"column":5,"offset":819},"end":{"line":30,"column":10,"offset":824},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"p"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t.km.zettelkasten","position":{"start":{"line":32,"column":17,"offset":900},"end":{"line":32,"column":38,"offset":921},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t.km.zettelkasten"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.Sönke-Ahrens","alias":"@Sönke-Ahrens","position":{"start":{"line":32,"column":109,"offset":992},"end":{"line":32,"column":122,"offset":1005},"indent":[]},"xvault":false,"to":{"fname":"user.Sönke-Ahrens"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"t.tm.getting-things-done","position":{"start":{"line":34,"column":13,"offset":1077},"end":{"line":34,"column":41,"offset":1105},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"t.tm.getting-things-done"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.andy-matuschak","alias":"@andy-matuschak","position":{"start":{"line":42,"column":134,"offset":1443},"end":{"line":42,"column":149,"offset":1458},"indent":[]},"xvault":false,"to":{"fname":"user.andy-matuschak"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"user.maggie-appleton","alias":"@maggie-appleton","position":{"start":{"line":42,"column":154,"offset":1463},"end":{"line":42,"column":170,"offset":1479},"indent":[]},"xvault":false,"to":{"fname":"user.maggie-appleton"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"ar.substack.carpe-noctem","position":{"start":{"line":44,"column":11,"offset":1568},"end":{"line":44,"column":39,"offset":1596},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ar.substack.carpe-noctem"}},{"type":"wiki","from":{"fname":"root","id":"CpS9sdQeO83XthdjEzqoL","vaultName":"public-notes"},"value":"book.how-to-take-smart-notes","position":{"start":{"line":47,"column":7,"offset":1605},"end":{"line":47,"column":39,"offset":1637},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"book.how-to-take-smart-notes"}}],"anchors":{"purpose":{"type":"header","text":"Purpose","value":"purpose","line":10,"column":0,"depth":2},"contents":{"type":"header","text":"Contents","value":"contents","line":14,"column":0,"depth":2},"beware":{"type":"header","text":"Beware!","value":"beware","line":42,"column":0,"depth":2},"what-this-is-not":{"type":"header","text":"What This Is Not","value":"what-this-is-not","line":46,"column":0,"depth":2}},"children":["7272514wvvn78ppl0gxbz1o","1oo01iddhf8xrhghsn50s68","1xo3rb42oibz4c0ci2hns1w","j4v1t5j8jlertnw3qehr7eh","y4mse62vwwswwoy83dog5l8","vxdnqfler524hz0cijghw52","2d2rpnxxhmeddduz9k0hrb1","dfk38hodq90wterkjm41g6d","mt44zhi7hgua7aosvn41m20","d9iapeyx1ykhni9iub35s0j","48sncuimn75uzjhk3fhpnzk","b98hmcjkz5mxbemof53ecrg","x7kou1vhk03q2jo1xgis6ei","c5qcd8cate4ic318mkmmkn0","4o5r1utc0onqbp5y50jo4bv","ctw4hojtksuyqzrhmeuxxv7","ipdzhc7arjmmikv6cc9av4g","avll3ht5e6v6brobqu6tu4f","pk8PcdWdd5M38WncZRnzN","64sr0zgblkoq70tu21r2dpw","pr50duvmwnfu5pf0zohcftk","wfhwxyrxvc5wt4e7yd81ot4","6q10hkz3zuvnueqa9slqqmu","h8etzbpdi04ynqoka3yhiei","llras18my52v1xrhkbmk9c2","q9y3ud88060hd6zdz0myhdr","v6oz4wid9tn2mzmjhcgalzv","ggw3ek46ptgebsgxgihr1dh","4qppc4bpj9d3and3abrlvty","QgQWvVXn3EJF7RptGkK2z","VdoOKc3Rq9WmIDPW3ifi0","g24de3ikvaqmy6bp4m223t0","glaj6jozq0g9ia3qvht816v","y1gcp9ejsspitoo2rfeiu5p","mpq0j669d32a9hlcorxc937","spj6w1tzilmir3xrebxe24b","trjorpgtcp9hd17i840lhsj"],"parent":null,"data":{},"body":"\nWelcome! And beware!  \n\n## Purpose\n\nThis vault is the \"[[learning-in-public|ar.swyx.learn-in-public]]\" part of my Second Brain. If you share some of my interests, please [reach out](https://djradon.github.io)! \n\n## Contents\n\n- [[t]] my personal wikipedia\n- [[idea]] (not necessarily mine)\n- Resource Notes, including highlights, thoughts and metadata, for various things:\n  - [[ar]] mostly articles, papers and web pages\n  - [[book]]\n  - [[community]]\n  - [[course]]\n  - [[event]]\n  - [[game]]\n  - [[loc]]\n  - [[org]]\n  - [[user]] \n  - [[prdct]] mostly software products, but also ontologies\n  - [[recipe]]\n  - [[video]] movies, tv episodes, youtube, etc\n- [[vs]]\n- [[wanted]]\n- Some \"Metadata Notes\":\n  - [[tags]] which may refer to any and multiple (or none) of the above\n  - [[c]]: ways to categorize resources\n  - [[p]]: ways to assert things about resources (mostly abandoned)\n\nIn terms of the [[t.km.zettelkasten]] method, this wiki is a commingling of literature notes with something @Sönke-Ahrens warned about: a \"personal Wikipedia or a database\" [^1]. \n\nIn terms of [[t.tm.getting-things-done]], it's references, someday-maybe, next actions, and public projects.\n\n## Beware!\n\nThis is a cluttered cupboard of jumbled jottings riddled with inaccuracies, confusion, and mistakes.\n\n## What This Is Not\n\n- evergreen-notes/digital-garden: for \"synthesized\" / original-ish publishable big-idea notes that should evolve over time, props to @andy-matuschak and @maggie-appleton\n- blog: for \"point-in-time\" items to be shared: personal news, articles, etc.\n  - e.g., [[ar.substack.carpe-noctem]]\n\n\n[^1]: [[book.how-to-take-smart-notes]]  "},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"none","confirmVaultOnCreate":true,"leaveTrace":false,"bubbleUpCreateNew":true,"vaultSelectionModeOnCreate":"smart","fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"selection","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"none"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"public-notes","remote":{"type":"git","url":"git@github.com:djradon/public-notes.git"},"name":"public-notes"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"enableUserTags":true,"enableHashTags":true,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"djradon's wiki","description":"a personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://djradon.github.io","assetsPrefix":"/wiki","ga":{"tracking":"G-X7H6C4TMC7"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"mlzjkg65ixezzrsyaf4a81z"},"buildId":"ll9_Pp7jSWsgv9lkH9WJA","assetPrefix":"/wiki","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>